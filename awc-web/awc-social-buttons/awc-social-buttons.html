<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/paper-button/paper-button.html">
<link rel="import" href="../../bower_components/paper-tooltip/paper-tooltip.html">
<link rel="import" href="../../bower_components/iron-flex-layout/iron-flex-layout.html">
<link rel="import" href="../awc-responsive-tag/awc-responsive-tag.html">
<link rel="import" href="../materialDesign/materialDesign.html">
<link rel="stylesheet" href="styles.css">

<dom-module id="awc-social-buttons">
<template>
	<style is="custom-style">
		[class^="icon-"]:before, [class*=" icon-"]:before {
			color:var(--awc-sb-color);
		}
		.icon{
			font-size:var(--awc-sb-size);
		}
		.flex-vertical {
		    @apply(--layout-vertical);
		    @apply(--layout-start);
		}
		.flex-horizontal {
			@apply(--layout-horizontal);
			@apply(--layout-center-justified);
		}
		.social-icons a span {
			font-family: 'Roboto', 'Noto', sans-serif;
			color:var(--awc-sb-color);
		    margin-left: 5px;
		    font-weight: 500;
		}
		.social-icons a {
		    display: inline-block;
		    padding: 3px 5px;
		    font-size: 13px;
		    font-weight: 500;
		    text-align: center;
		    white-space: nowrap;
		    text-decoration:none; 
		}
		.social-icons i {
			vertical-align: middle;
		}
		.mdl-button{
			height:inherit;
			min-width: inherit;
			padding:12px 12px 8px 12px;
			line-height:var(--awc-sb-size);
		}
		.mdl-button--icon {
			width: inherit;
		}
		 paper-tooltip{
		   padding-top: 5px;
		}
	</style>

<awc-responsive-tag>
	<div class="default">

		<template is='dom-if' if="{{!vertical}}">
			<div class="social-icons flex-horizontal">
				<template is='dom-repeat' items="{{items}}">
					<a href="{{item.url}}" target="_blank">				
						<i class$="icon icon-inv-social-{{item.class}} {{style}}"  id="icon_{{item.class}}"></i>
						<span>{{item.text}}</span>
					</a>
					<template is='dom-if' if="{{item.title)}}">
						<paper-tooltip for="icon_{{item.class}}" offset="0" position="bottom">{{item.title}} </paper-tooltip>
					</template>
				</template>
			</div>
		</template>
		<template is='dom-if' if="{{vertical}}">
			<div class="social-icons flex-vertical">
				<template is='dom-repeat' items="{{items}}">
					<a href="{{item.url}}" target="_blank">				
						<i class$="icon icon-inv-social-{{item.class}} {{style}}"  id="icon_{{item.class}}"></i>
						<span>{{item.text}}</span>
					</a>
					<template is='dom-if' if="{{item.title)}}">
						<paper-tooltip for="icon_{{item.class}}" offset="0" position="bottom">{{item.title}} </paper-tooltip>
					</template>
				</template>
			</div>
		</template>
	</div>

	<div class="mobile">
		<template is='dom-if' if="{{!vertical}}">
			<div class="social-icons flex-horizontal">
				<template is='dom-repeat' items="{{items}}">
					<a href="{{item.url}}" target="_blank">				
						<i class$="icon icon-inv-social-{{item.class}} {{style}}"  id="icon_{{item.class}}"></i>
					</a>
					<template is='dom-if' if="{{item.title)}}">
						<paper-tooltip for="icon_{{item.class}}" offset="0" position="bottom">{{item.title}} </paper-tooltip>
					</template>
				</template>
			</div>
		</template>
		<template is='dom-if' if="{{vertical}}">
			<div class="social-icons flex-vertical">
				<template is='dom-repeat' items="{{items}}">
					<a href="{{item.url}}" target="_blank">				
						<i class$="icon icon-inv-social-{{item.class}} {{style}}"  id="icon_{{item.class}}"></i>
					</a>
					<template is='dom-if' if="{{item.title)}}">
						<paper-tooltip for="icon_{{item.class}}" offset="0" position="bottom">{{item.title}} </paper-tooltip>
					</template>
				</template>
			</div>
		</template>
	</div>

</awc-responsive-tag>

</template>
	<script>
		Polymer({
			is: 'awc-social-buttons',
			 properties: {
				color: {
			      	type: String,
			      	value:""
			    },
			    size: {
			      	type: String,
			      	value:"20"
			    },
	            vertical: {
			      	type: Boolean,
			      	value:false
			    },
	            items: {
					type: Array,
					value: []
				},
				style: {
					type: String
				},
				type: {
					type: String,
					value:"default"
				}
	        },
	        _items:"",
	        created: function(){
	        	this._items= [];
				var list = this.root.querySelectorAll('a');

				for (var i = 0; i < list.length; i++) {
					var current = list[i];
					var item = {};

					item.title = current.getAttribute('title') || '';
					item.text = current.textContent || '';
					item.url = current.getAttribute('href') || '#';
					item.class = current.getAttribute('class') || '';

					this._items.push( item );

				}

			},
			ready:function(){ 
				this.items = this._items;
				this.customStyle['--awc-sb-size'] = this.size + "px";
				this.customStyle['--awc-sb-color'] = this.color;
            	this.updateStyles();

				if(this.type=="icon")this.style="mdl-button mdl-js-button mdl-button--icon";
				if(this.type=="fab")this.style="mdl-button mdl-js-button mdl-button--icon mdl-button--fab";
				  
			}
		});
	</script>
</dom-module>