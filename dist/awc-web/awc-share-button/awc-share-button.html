<link rel="import" href="../bower_components/polymer/polymer.html"><link rel="import" href="../materialDesign/materialDesign.html"><link rel="import" href="../bower_components/paper-toast/paper-toast.html"><link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"><script src="dialog-polyfill.js"></script><link rel="stylesheet" type="text/css" href="dialog-polyfill.css"><link rel="stylesheet" href="style.css"><dom-module id="awc-share-button"><template><style is="custom-style">:host{--awc-sb-text-color:#6B787A;--awc-sb-icon-color:#6B787A;--awc-sb-icon-background:#CFD8DC}.button{color:var(--awc-sb-text-color)}.mdl-button.mdl-button--colored{color:var(--awc-sb-icon-color)}.item,.title{color:rgba(0,0,0,.87);line-height:24px}.mdl-button--fab.mdl-button--colored{background:var(--awc-sb-icon-background)!important}.title{font-size:20px;font-weight:600;padding-bottom:19px}.icon{position:absolute;top:50%;left:50%;-webkit-transform:translate(-12px,-12px);transform:translate(-12px,-12px);line-height:24px;width:24px}.close-dialog{position:absolute;top:10px;right:10px}.item{cursor:pointer;font-size:14px;font-weight:400;padding:8px 0}.copy-text{color:rgba(0,0,0,.54);font-size:14px;line-height:16px;padding-top:11px;padding-bottom:7px}.item>span{font-size:24px;display:inline-block;vertical-align:bottom;margin-right:24px;margin-left:10px}.item.mdl-button{height:auto;min-width:100%;text-transform:none;text-align:left}.modal{max-width:240px}.mdl-dialog__content{padding:20px 14px}@-webkit-keyframes fadeInDown{from{opacity:0;-webkit-transform:translate3d(0,-100%,0);transform:translate3d(0,-100%,0)}to{opacity:1;-webkit-transform:none;transform:none}}@keyframes fadeInDown{from{opacity:0;-webkit-transform:translate3d(0,-100%,0);transform:translate3d(0,-100%,0)}to{opacity:1;-webkit-transform:none;transform:none}}.fadeInDown{-webkit-animation-duration:.5s;animation-duration:.5s;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-name:fadeInDown;animation-name:fadeInDown}@-webkit-keyframes fadeOutUp{from{opacity:1}to{opacity:0;-webkit-transform:translate3d(0,-100%,0);transform:translate3d(0,-100%,0)}}@keyframes fadeOutUp{from{opacity:1}to{opacity:0;-webkit-transform:translate3d(0,-100%,0);transform:translate3d(0,-100%,0)}}.fadeOutUp{-webkit-animation-duration:.5s;animation-duration:.5s;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-name:fadeOutUp;animation-name:fadeOutUp}.textarea{position:fixed;top:0;left:0;width:2em;height:2em;padding:0;border:none;outline:0;box-shadow:none;background:0 0;visibility:hidden}</style><div class="container" id="container"><div class="button"><button class="mdl-button mdl-js-button mdl-button--icon mdl-button--colored" id="open"><span class="awc-sb-share icon"></span></button> {{_text}}</div><dialog class="mdl-dialog modal fadeInDown" id="modal"><div class="mdl-dialog__content" id="content"><button class="mdl-button mdl-js-button mdl-button--icon close-dialog" id="close"><i class="material-icons">close</i></button><div class="title">{{textBox}}</div><a href="{{_textFacebook}}" target="_blank"><div class="item mdl-button mdl-js-button"><span class="awc-sb-facebook"></span> Facebook</div></a><a href="{{_textTwitter}}" target="_blank"><div class="item mdl-button mdl-js-button"><span class="awc-sb-twitter"></span> Twitter</div></a><a href="{{_textEmail}}"><div class="item mdl-button mdl-js-button"><span class="awc-sb-email"></span> Email</div></a><a id="clipboard" style="display: block" onclick="document.querySelector('awc-share-button').clipboard()"><div class="item mdl-button mdl-js-button"><span class="awc-sb-files-empty"></span> {{_textClipboard}}<textarea id="texttocopied" class="textarea"></textarea></div></a><paper-toast id="copyMessage" class="fit-bottom" alwaysontop="true"></paper-toast></div></dialog></div></template><script>Polymer({is:"awc-share-button",properties:{url:{type:String},text:{type:String},from:{type:String},type:{type:String,value:"default"},displayText:{type:Boolean,value:!1},languaje:{type:String,value:"en"},textEs:{type:String,value:"Compartir"},textEn:{type:String,value:"Share"},email:{type:String,value:"true"},facebook:{type:String,value:"true"},_textFacebook:{type:String},twitter:{type:String,value:"true"},_textTwitter:{type:String}},ready:function(){var t=this;t.$.copyMessage.fitInto=content,t.displayText&&("es"==t.languaje?t._text=t.textEs:t._text=t.textEn),"es"==t.languaje?(t.textBox=t.textEs,t._textFacebook="https://www.facebook.com/sharer/sharer.php?u="+t.url,t._textTwitter="https://twitter.com/intent/tweet?text="+t.text+" "+t.url+" desde "+t.from,t._textEmail="mailto:?subject=Compartido desde "+t.from+" &body="+t.text+" "+t.url+" desde "+t.from,t._textClipboard="Copiar al portapapeles"):(t.textBox=t.textEn,t._textFacebook="https://www.facebook.com/sharer/sharer.php?u="+t.url,t._textTwitter="https://twitter.com/intent/tweet?text="+t.text+" "+t.url+" from "+t.from,t._textEmail="mailto:?subject=Share from "+t.from+" &body="+t.text+" "+t.url+" from "+t.from,t._textClipboard="Copy to Clipboard"),t.$.texttocopied.textContent=t._textTwitter,"fab"==t.type&&(t.$.open.classList.add("mdl-button--fab"),t.$.open.classList.add("mdl-button--mini-fab"));var e=document.querySelector("dialog");e.showModal||dialogPolyfill.registerDialog(e),t.$.open.addEventListener("click",function(e){t.show()},!1),t.$.close.addEventListener("click",function(e){t.hide()},!1)},_expand:function(t){var e=this;t?document.querySelector("dialog").showModal():(e.$.modal.className="mdl-dialog modal fadeOutUp style-scope awc-share-button",setTimeout(function(){document.querySelector("dialog").close(),e.$.modal.className="mdl-dialog modal fadeInDown style-scope awc-share-button"},500))},show:function(){this._expand(!0)},hide:function(){this._expand(!1)},clipboard:function(){return window.clipboardData&&window.clipboardData.setData?clipboardData.setData("Text",document.getElementById("texttocopied").textContent):(document.queryCommandSupported&&document.queryCommandSupported("copy")&&(document.getElementById("texttocopied").style.visibility="visible",document.getElementById("texttocopied").select(),document.execCommand("copy"),document.getElementById("texttocopied").style.visibility="hidden"),void("es"==this.languaje?document.getElementById("copyMessage").show({text:"enlace copiado",duration:1e3}):document.getElementById("copyMessage").show({text:"copied link",duration:1e3})))}});</script></dom-module>