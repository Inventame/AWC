<link rel="import" href="../../bower_components/polymer/polymer.html"><link rel="import" href="../../bower_components/iron-image/iron-image.html"><link rel="import" href="../awc-simple-hero-image/awc-simple-hero-image.html"><link rel="import" href="../materialDesign/materialDesign.html"><dom-module id="awc-overlay-menu"><template><style is="custom-style">.mdl-layout__drawer,.mdl-layout__drawer a.mdl-navigation__link{color:var(--awc-om-color)}:host{--awc-om-color:#424242;--awc-om-background-color:#CFD8DC;--awc-om-hover-color:#829494;--awc-om-hover-background-color:#B0B5BA}; #overlay{display:none;position:fixed;top:0;left:0;right:0;bottom:0;z-index:999999999}.mdl-layout__drawer{background-color:var(--awc-om-background-color);border-color:var(--awc-om-background-color)}.mdl-layout__drawer a.mdl-navigation__link:hover{background-color:var(--awc-om-hover-background-color);color:var(--awc-om-hover-color)}</style><div id="overlay"><div class="mdl-layout mdl-js-layout" on-tap="hide"><div class="mdl-layout__drawer"><template is="dom-if" if="{{!hero}}"><span class="mdl-layout-title" style="display:table"><template is="dom-if" if="{{logo}}"><iron-image src="{{logo}}" style="width:40px; height:40px; display:table-cell" sizing="contain"></iron-image></template><div style="display:table-cell; padding-left: 6px">{{title}}</div></span></template><template is="dom-if" if="{{hero}}"><div style="width:100%; height:{{heroHeight}}; padding:0px" class="mdl-layout-title"><awc-simple-hero-image url="{{logo}}" height="{{heroHeight}}"><div class="content"></div></awc-simple-hero-image></div></template><nav class="mdl-navigation" items-changed="{{refresh}}"><template is="dom-repeat" items="{{items}}"><a class="mdl-navigation__link" href="{{item.url}}" on-click="_click" id="{{item.id}}"><i class="material-icons mdl-list__item-icon">{{item.icon}}</i> {{item.title}}</a></template></nav></div></div></div><div style="display:none" id="content"><content></content></div></template><script>Polymer({is:"awc-overlay-menu",properties:{title:{type:String,value:"Menu"},logo:String,items:{type:Array,value:[],notify:!0},hero:{type:Boolean,value:!1},heroHeight:{type:String,value:"100px"}},_items:[],show:function(){this.$.overlay.style.display="block";var t=this.$.overlay.querySelector(".mdl-layout__drawer-button");t.style.display="none";var e=this;setTimeout(function(){var t=e.$.overlay.querySelector(".mdl-layout");t.MaterialLayout.toggleDrawer()},100),this.fire("onShow")},hide:function(t){var e=t.target;if(!(e.classList.contains("mdl-layout__drawer")||e.classList.contains("mdl-layout-title")||e.classList.contains("mdl-navigation"))){if(!e.classList.contains("mdl-layout__obfuscator")){var i=this.$.overlay.querySelector(".mdl-layout");i.MaterialLayout.toggleDrawer()}var o=this;setTimeout(function(){o.$.overlay.style.display="none"},150),this.fire("onHide")}},append:function(t){this.$.content.appendChild(t)},remove:function(t){this.$.content.removeChild(this.$.content.querySelector(t))},clean:function(){Polymer.dom.flush()},_refresh:function(){this._items=[];for(var t=this.$.content.querySelectorAll("a"),e=0;e<t.length;e++){var i=t[e],o={};o.title=i.textContent||"untitled",o.icon=i.getAttribute("icon"),o.url=i.getAttribute("href")||"#",o.id=i.getAttribute("id")||"",this._items.push(o)}componentHandler.upgradeDom(),this.items=this._items},_click:function(t){this.fire("click",t.target)},ready:function(){var t=this,e=function(){t._refresh.apply(t)},i=new MutationObserver(e);i.observe(this.$.content,{childList:!0,subtree:!0}),this._refresh()}});</script></dom-module>