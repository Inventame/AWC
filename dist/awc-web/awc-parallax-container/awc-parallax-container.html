<link rel="import" href="../bower_components/polymer/polymer.html"><link rel="import" href="../bower_components/iron-flex-layout/iron-flex-layout.html"><dom-module id="awc-parallax-container"><template><style is="custom-style">:host{position:relative;@apply(--layout-vertical);--awc-pc-transform:translate3d(-50%,0,0)}.image,.parallax{position:absolute;bottom:0}:host.fit{@apply(--layout-fit)}.parallax{top:0;left:0;right:0;z-index:1;overflow:hidden}.image{left:50%;top:-25%;min-height:100%;min-width:100%;-webkit-transform:var(--awc-pc-transform);-moz-transform:var(--awc-pc-transform);-ms-transform:var(--awc-pc-transform);-o-transform:var(--awc-pc-transform);transform:var(--awc-pc-transform)}</style><div class="parallax"><img class="image" id="image"></div><content></content></template><script>Polymer({is:"awc-parallax-container",properties:{url:String,urlMobile:String,urlTablet:String,urlResponsive:String},ready:function(){var t=this,i=window.matchMedia("(max-width:480px)"),e=function(){this.matches&&(t.$.image.src=t.urlMobile||t.url)};i.addListener(e);var a=window.matchMedia("(min-width:481px) and (max-width:600px)"),n=function(){this.matches&&(t.$.image.src=t.urlTablet||t.url)};a.addListener(n);var s=window.matchMedia("(max-width:600px)"),r=function(){this.matches&&(t.$.image.src=t.urlResponsive||t.url)};s.addListener(r);var l=window.matchMedia("(min-width:601px)"),d=function(){this.matches&&(t.$.image.src=t.url)};l.addListener(d),i.matches&&e.apply(i),a.matches&&n.apply(a),s.matches&&r.apply(s),l.matches&&d.apply(l);var t=this;window.addEventListener("scroll",function(){t._scroll.apply(t)}),this.updateStyles()},_lastValue:0,_scroll:function(){var t=this.getBoundingClientRect().top,i=this.getBoundingClientRect().bottom,e=t/4*-1,a=!1;if((0===t||t<=window.innerHeight)&&(a=!0),i>0&&(a=!0),0>i&&(a=!1),t>window.innerHeight&&(a=!1),a){var n=this.getAttribute("dy")||.25;0===n?(this.setAttribute("dy",e),displacement=0):displacement=e-n,this.customStyle["--awc-pc-transform"]="translate3d(-50%, "+displacement+"px, 0px);",this.updateStyles()}}});</script></dom-module>