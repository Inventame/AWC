<link rel="import" href="../bower_components/polymer/polymer.html"><link rel="import" href="../bower_components/iron-flex-layout/iron-flex-layout.html"><link rel="import" href="../bower_components/neon-animation/neon-animated-pages.html"><link rel="import" href="../bower_components/neon-animation/neon-animatable.html"><link rel="import" href="../bower_components/neon-animation/neon-animations.html"><link rel="import" href="../bower_components/iron-icon/iron-icon.html"><link rel="import" href="../bower_components/iron-icons/image-icons.html"><link rel="import" href="awc-carrousel-item.html"><script src="hammer.min.js"></script><dom-module id="awc-carrousel"><template><style is="custom-style">.page{width:100%;height:100%}.fit,:host{@apply(--layout-fit)}#dots{position:absolute;left:0;right:0;bottom:10px;margin:auto;min-width:100px;height:16px;background-color:transparent}.dot-list{margin:0;padding:0;list-style:none}.dot-list>li{list-style:none;display:inline-block}.dot-list>li.light{color:rgba(255,255,255,.3)}.dot-list>li.dark,.dot-list>li.light.active{color:rgba(0,0,0,.3)}.dot-list>li.dark.active{color:rgba(255,255,255,.3)}</style><neon-animated-pages id="pages" selected="{{selected}}" entry-animation="{{entryAnimation}}" exit-animation="{{exitAnimation}}" style$="{{style}}" class="fit"><content></content></neon-animated-pages><div id="dots" hidden$="{{hideDots}}"><center><ul class="dot-list" id="dotlist"><template is="dom-repeat" items="{{pages}}"><li class$="{{theme}}" on-tap="selectPage"><iron-icon icon="image:brightness-1" style="width:8px" id="{{index}}"></iron-icon></li></template></ul></center></div></template><script>Polymer({is:"awc-carrousel",properties:{selected:{type:Number,value:0,notify:!0,reflectToAttribute:!0},theme:{type:String,value:"light"},hideDots:{type:Boolean,value:!1},autoplay:{type:Boolean,value:!1},time:{type:Number,value:2e3},entryAnimation:String,exitAnimation:String,pages:{type:Array,value:[],notify:!0}},_activeDot:function(t){for(var e=this.$.dotlist.querySelectorAll("li"),i=0;i<e.length;i++){var n=e[i],s=n.className;s=s.replace("active",""),i===t?n.className=s+" active":n.className=s}},next:function(){this.entryAnimation="slide-from-right-animation",this.exitAnimation="slide-left-animation",this.selected=this.selected+1<this._list.length?this.selected+1:0,this._activeDot(this.selected)},back:function(){this.entryAnimation="slide-from-left-animation",this.exitAnimation="slide-right-animation",this.selected=this.selected-1>=0?this.selected-1:this._list.length-1,this._activeDot(this.selected)},selectPage:function(t,e){var i=parseInt(t.target.id);this.selected<i?(this.entryAnimation="slide-from-right-animation",this.exitAnimation="slide-left-animation"):(this.entryAnimation="slide-from-left-animation",this.exitAnimation="slide-right-animation"),this.selected=i,this._activeDot(i),this.fire("onSelectedPage",[i])},ready:function(){var t=this,e=new Hammer(this.$.pages);e.on("swipeleft",function(){t.next.apply(t)}),e.on("swiperight",function(){t.back.apply(t)}),this._list=this.querySelectorAll(".page"),this.pages=[];for(var i=0;i<this._list.length;i++)this.pages.push({content:this._list[i]});setTimeout(function(){t._activeDot(0)},1),this.autoplay===!0&&setInterval(function(){t.next()},this.time)}});</script></dom-module>